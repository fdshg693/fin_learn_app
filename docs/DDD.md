# DDD

##　全体像・ゴール

- 株の売買のシュミレート
- 株の基本が分かるくらいの人

## 流れ

1. 銘柄一覧の画面に移動
2. 銘柄の情報を取得して表示
3. 特定の銘柄をクリック
4. 選択された銘柄の詳細情報を取得して表示
5. 銘柄の詳細情報が見える。メニューからアクションが選択できる
6. アクションを選択する
7. 選択されたアクションに応じたシュミレートを提供

8. ポートフォリオ一覧画面に移動
9. ポートフォリオ一覧を取得して表示
10. 特定の銘柄クリック
11. 銘柄の詳細情報を取得して表示
12. 銘柄の詳細情報が見える。メニューからアクションが選択できる
13. アクションを選択する
14. 選択されたアクションに応じたシュミレートを提供

## 用語

### モデル

- 企業: 銘柄を発行する会社
- 投資家: 銘柄を売買する人（今回はこのアプリのユーザー）

- 銘柄: どの会社の株かを区別するための識別単位
  - 株価: 銘柄の価格
  - 株（単位）： 銘柄の最小単位
  - 通貨：　今回のアプリではJPY固定

- ポートフォリオ: 保有する銘柄と現金
  - 評価額: 保有する銘柄と現金の現在価値の合計
  - 損益: 評価額 - 投資額（今回のアプリでは単純に、初期資産から評価額を引いたものとする）
  - 現金: 銘柄に投資していないお金

- 取引所: 銘柄の売買が行われる場所
  - 注文帳: 売買注文が一覧で管理されていて、売買の成立を判定する
    - 銘柄の価格変更に応じて、注文帳の内容も変化する
  - 手数料: 売買の際にかかる費用（このアプリでは固定値とする、売買の両方にかかる）

### アクション

- アクション: 投資家が銘柄に対して行う操作
  - 買う
    - 今すぐ買う（売り注文が存在する限り）
  - 売る
    - 今すぐ売る（買い注文が存在する限り）
  - 待つ
    - 何もしないで次のターンに進む

### イベント

- 約定: 売買が成立すること

## ビジネスルール

- ターン制のシュミレーション
  - 1ターンごとに、投資家は1回アクションを実行できる
  - 1ターンごとに、株価が変動する（ランダム）

- 持ってる現金以上の買い注文はできない（手数料込み）
- 持ってる株以上の売り注文はできない（手数料込み）
- 売買の際には手数料がかかる（固定値、株の数によらない）
- 約定は、コンピューターの注文と投資家の注文がマッチした場合に自動的に行われる

- コンピューターは毎ターン、以下のルールに沿ってランダムに注文を出す
  - 10の買い注文を3つの銘柄にランダムに分散して出す
    - 買い注文の値段は現在の株価の95%に設定
  - 10の売り注文を3つの銘柄にランダム
    - 売り注文の値段は現在の株価の100%に設定
